<?xml version="1.0" encoding="UTF-8"?>
<sql-custom>
    <sql id="org.oep.cmon.dao.cd.search">
		<![CDATA[
		SELECT
			CD.ID ${congDanId}
		,	CD.HO ${ho}
		,	CD.DEM ${dem}
		,	CD.TEN ${ten}
		,	CD.GIOITINHID ${gioiTinhId}
		,	CD.SOCMND ${soCMND}
		,	CD.NGAYSINH ${ngaySinh}
		,	CD.DIENTHOAICODINH ${dienThoaiCoDinh}
		,	CD.DIENTHOAIDIDONG ${dienThoaiDiDong}
		,	CD.EMAIL ${email}
		,	CASE
				WHEN CD.DIACHITHUONGTRUTINHID IS NULL
					THEN CD.DIACHIHIENNAYTINHID
				ELSE CD.DIACHITHUONGTRUTINHID
			END ${tinhDiaChiId}
		,	CASE
				WHEN CD.DIACHITHUONGTRUTINHID IS NULL
					THEN (
						SELECT 
							DVHCT_.TEN 
						FROM 
							CMON_DONVIHANHCHINH DVHCT_
						WHERE DVHCT_.ID = CD.DIACHIHIENNAYTINHID
					)
				ELSE DVHCT.TEN
			END ${tenTinhDiaChi}
		,	CASE
				WHEN CD.DIACHITHUONGTRUTINHID IS NULL
					THEN CD.DIACHIHIENNAYHUYENID
				ELSE CD.DIACHITHUONGTRUHUYENID
			END ${huyenDiaChiId}
		,	CASE
				WHEN CD.DIACHITHUONGTRUTINHID IS NULL
					THEN (
						SELECT 
							DVHCH_.TEN 
						FROM 
							CMON_DONVIHANHCHINH DVHCH_
						WHERE DVHCH_.ID = CD.DIACHIHIENNAYHUYENID
					)
				ELSE DVHCH.TEN
			END ${tenHuyenDiaChi}
		,	CASE
				WHEN CD.DIACHITHUONGTRUTINHID IS NULL
					THEN CD.DIACHIHIENNAYXAID
				ELSE CD.DIACHITHUONGTRUXAID
			END ${xaDiaChiId}
		,	CASE
				WHEN CD.DIACHITHUONGTRUTINHID IS NULL
					THEN (
						SELECT 
							DVHCX_.TEN 
						FROM 
							CMON_DONVIHANHCHINH DVHCX_
						WHERE DVHCX_.ID = CD.DIACHIHIENNAYXAID
					)
				ELSE DVHCX.TEN
			END ${tenXaDiaChi}
		,	CASE
				WHEN CD.DIACHITHUONGTRUTINHID IS NULL
					THEN CD.DIACHIHIENNAY
				ELSE CD.DIACHITHUONGTRU
			END ${diaChiChiTiet}
		FROM
			CSMS_CONGDAN CD
		LEFT JOIN
			CMON_DONVIHANHCHINH DVHCT
			ON CD.DIACHITHUONGTRUTINHID = DVHCT.ID
		LEFT JOIN
			CMON_DONVIHANHCHINH DVHCH
			ON CD.DIACHITHUONGTRUHUYENID = DVHCH.ID
		LEFT JOIN
			CMON_DONVIHANHCHINH DVHCX
			ON CD.DIACHITHUONGTRUXAID = DVHCX.ID
			
		__where__
		
		]]>
    </sql>
    <sql id="org.oep.cmon.dao.dvc.getDSThuTucByCQQL">
		<![CDATA[
			SELECT 
				TT.* 
			FROM
				CMON_TTHC2COQUANQUANLY TT2CQ
			INNER JOIN CMON_THUTUCHANHCHINH TT
				ON TT2CQ.THUTUCHANHCHINHID = TT.ID
			INNER JOIN CMON_NHOMTHUTUCHANHCHINH NHOMTT
				ON TT.NHOMTHUTUCHANHCHINHID = NHOMTT.ID
			WHERE
				TT2CQ.COQUANQUANLYID = :coQuanQuanLyId
				AND TT2CQ.DAXOA = 0
				AND TT.DAXOA = 0
				AND NHOMTT.DAXOA = 0
			ORDER BY
				NLSSORT(CONCAT( SUBSTR(TRIM(NHOMTT.TEN), 0, 1), NHOMTT.ID ), 'NLS_SORT = BINARY_AI')
			,	NLSSORT(SUBSTR(TRIM(TT.TEN), 0, 1), 'NLS_SORT = BINARY_AI')
		]]>
    </sql>
    <sql id="org.oep.cmon.dao.dvc.countThuTucByCQQL">
		<![CDATA[
			SELECT 
				COUNT(TT.ID) total_
			FROM
				CMON_TTHC2COQUANQUANLY TT2CQ
			INNER JOIN CMON_THUTUCHANHCHINH TT
				ON TT2CQ.THUTUCHANHCHINHID = TT.ID
			WHERE
				TT2CQ.COQUANQUANLYID = :coQuanQuanLyId
				AND TT.DAXOA = 0
				AND TT2CQ.DAXOA = 0
		]]>
    </sql>
    <sql id="org.oep.cmon.dao.dvc.fetchThongTinThuTuc2CoQuan">
		<![CDATA[
			SELECT
				TT.ID ${thuTucId}
			,	TT.MA ${maThuTuc}
			,	TT.TEN ${tenThuTuc}
			,	NHOMTT.ID ${nhomThuTucId}
			,	NHOMTT.MA ${maNhomThuTuc}
			,	NHOMTT.TEN ${tenNhomThuTuc}
			,	UD.ID ${danhMucUngDungId}
			,	UD.MA ${maDanhMucUngDung}
			,	UD.TEN ${tenDanhMucUngDung}
			,	CASE
					WHEN UD.MA = :maUngDungCongAn
						THEN 1
					ELSE
						0
				END ${thuocUngDungCongAn}
			,	TT2CQ.LEPHI ${lePhiHoSo}
			,	TT2CQ.PHI ${phiHoSo}
			,	TT2CQ.SONGAYXULY ${soNgayXuLy}
			FROM
				CMON_THUTUCHANHCHINH TT
			INNER JOIN CMON_TTHC2COQUANQUANLY TT2CQ
				ON TT.ID = TT2CQ.THUTUCHANHCHINHID
			INNER JOIN CMON_NHOMTHUTUCHANHCHINH NHOMTT
				ON TT.NHOMTHUTUCHANHCHINHID = NHOMTT.ID
			INNER JOIN CMON_DANHMUCUNGDUNG UD
				ON NHOMTT.DANHMUCUNGDUNGID = UD.ID
			WHERE
				TT2CQ.THUTUCHANHCHINHID = :thuTucId
			AND TT2CQ.COQUANQUANLYID = :coQuanId
			AND TT.DAXOA = 0
			AND TT2CQ.DAXOA = 0
			AND NHOMTT.DAXOA = 0
			AND UD.DAXOA = 0
		]]>
    </sql>
    <sql id="org.oep.cmon.dao.dvc.getDSThongTinThuTucLienThongNoiNhan2CanBo">
		<![CDATA[
			SELECT
				TT.ID ${thuTucId}
			,	TT.MA ${maThuTuc}
			,	TT.TEN ${tenThuTuc}
			,	NHOMTT.ID ${nhomThuTucId}
			,	NHOMTT.MA ${maNhomThuTuc}
			,	NHOMTT.TEN ${tenNhomThuTuc}
			FROM
				CMON_THUTUCHANHCHINH TT
			INNER JOIN
				CMON_NHOMTHUTUCHANHCHINH NHOMTT
				ON NHOMTT.ID = TT.NHOMTHUTUCHANHCHINHID
			INNER JOIN
				CMON_CONGCHUC2NHOMTHUTUC CC2NHOMTT
				ON CC2NHOMTT.NHOMTHUTUCID = NHOMTT.ID
			INNER JOIN
				CMON_TTHC2COQUANQUANLY TT2CQ
				ON TT.ID = TT2CQ.THUTUCHANHCHINHID
			INNER JOIN
				CMON_THUTUCHANHCHINH TTLT
				ON TT.ID = TTLT.THUTUCLIENTHONGID
			WHERE
				CC2NHOMTT.CONGCHUCID = :canBoId
			AND TT2CQ.COQUANQUANLYID = :coQuanId
			AND TT.DAXOA = 0
			AND NHOMTT.DAXOA = 0
			AND CC2NHOMTT.DAXOA = 0
			AND TT2CQ.DAXOA = 0
			AND TTLT.DAXOA = 0
			ORDER BY
				NLSSORT(CONCAT( SUBSTR(TRIM(NHOMTT.TEN), 0, 1), NHOMTT.ID ), 'NLS_SORT = BINARY_AI')
			,	NLSSORT(SUBSTR(TRIM(TT.TEN), 0, 1), 'NLS_SORT = BINARY_AI')
		]]>
    </sql>
    <sql id="org.oep.cmon.dao.dvc.getDSThongTinThuTucLienThongNoiNhan2CoQuan">
		<![CDATA[
			SELECT
				TT.ID ${thuTucId}
			,	TT.MA ${maThuTuc}
			,	TT.TEN ${tenThuTuc}
			,	NHOMTT.ID ${nhomThuTucId}
			,	NHOMTT.MA ${maNhomThuTuc}
			,	NHOMTT.TEN ${tenNhomThuTuc}
			FROM
				CMON_THUTUCHANHCHINH TT
			INNER JOIN
				CMON_TTHC2COQUANQUANLY TT2CQ
				ON TT2CQ.THUTUCHANHCHINHID = TT.ID
			INNER JOIN
				CMON_THUTUCHANHCHINH TTLT
				ON TT.ID = TTLT.THUTUCLIENTHONGID
			INNER JOIN
				CMON_NHOMTHUTUCHANHCHINH NHOMTT
				ON NHOMTT.ID = TT.NHOMTHUTUCHANHCHINHID
			WHERE
				TT2CQ.COQUANQUANLYID = :coQuanId
			AND TT.DAXOA = 0
			AND TT2CQ.DAXOA = 0
			AND TTLT.DAXOA = 0
			ORDER BY
				NLSSORT(CONCAT( SUBSTR(TRIM(NHOMTT.TEN), 0, 1), NHOMTT.ID ), 'NLS_SORT = BINARY_AI')
			,	NLSSORT(SUBSTR(TRIM(TT.TEN), 0, 1), 'NLS_SORT = BINARY_AI')
		]]>
    </sql>
    <sql id="org.oep.cmon.dao.dvc.getDSThongTinThuTucLienThongNoiGui2CanBo">
		<![CDATA[
			SELECT
				TT.ID ${thuTucId}
			,	TT.MA ${maThuTuc}
			,	TT.TEN ${tenThuTuc}
			,	NHOMTT.ID ${nhomThuTucId}
			,	NHOMTT.MA ${maNhomThuTuc}
			,	NHOMTT.TEN ${tenNhomThuTuc}
			FROM
				CMON_THUTUCHANHCHINH TT
			INNER JOIN
				CMON_NHOMTHUTUCHANHCHINH NHOMTT
				ON NHOMTT.ID = TT.NHOMTHUTUCHANHCHINHID
			INNER JOIN
				CMON_CONGCHUC2NHOMTHUTUC CC2NHOMTT
				ON CC2NHOMTT.NHOMTHUTUCID = NHOMTT.ID
			INNER JOIN
				CMON_TTHC2COQUANQUANLY TT2CQ
				ON TT.ID = TT2CQ.THUTUCHANHCHINHID
			WHERE
				CC2NHOMTT.CONGCHUCID = :canBoId
			AND TT2CQ.COQUANQUANLYID = :coQuanId
			AND TT.THUTUCLIENTHONGID IS NOT NULL
			AND TT.DAXOA = 0
			AND NHOMTT.DAXOA = 0
			AND TT2CQ.DAXOA = 0
			AND CC2NHOMTT.DAXOA = 0
			ORDER BY
				NLSSORT(CONCAT( SUBSTR(TRIM(NHOMTT.TEN), 0, 1), NHOMTT.ID ), 'NLS_SORT = BINARY_AI')
			,	NLSSORT(SUBSTR(TRIM(TT.TEN), 0, 1), 'NLS_SORT = BINARY_AI')
		]]>
    </sql>
    <sql id="org.oep.cmon.dao.dvc.getDSThongTinThuTucLienThongNoiGui2CoQuan">
		<![CDATA[
			SELECT
				TT.ID ${thuTucId}
			,	TT.MA ${maThuTuc}
			,	TT.TEN ${tenThuTuc}
			,	NHOMTT.ID ${nhomThuTucId}
			,	NHOMTT.MA ${maNhomThuTuc}
			,	NHOMTT.TEN ${tenNhomThuTuc}
			FROM
				CMON_THUTUCHANHCHINH TT
			INNER JOIN
				CMON_TTHC2COQUANQUANLY TT2CQ
				ON TT2CQ.THUTUCHANHCHINHID = TT.ID
			INNER JOIN
				CMON_NHOMTHUTUCHANHCHINH NHOMTT
				ON NHOMTT.ID = TT.NHOMTHUTUCHANHCHINHID
			WHERE
				TT2CQ.COQUANQUANLYID = :coQuanId
			AND TT.THUTUCLIENTHONGID IS NOT NULL
			AND TT2CQ.DAXOA = 0
			AND TT.DAXOA = 0
			ORDER BY
				NLSSORT(CONCAT( SUBSTR(TRIM(NHOMTT.TEN), 0, 1), NHOMTT.ID ), 'NLS_SORT = BINARY_AI')
			,	NLSSORT(SUBSTR(TRIM(TT.TEN), 0, 1), 'NLS_SORT = BINARY_AI')
		]]>
    </sql>
    <sql id="org.oep.cmon.dao.hosohcc.FileDinhKem.getDSGiayToPhienBanMoiNhatByHoSo">
		<![CDATA[
			SELECT
				ID ${fileDinhKemId}
			,	NOILUUTRUTAILIEUID ${noiLuuTruTaiLieuId}
			,	TEN ${tenGiayTo}
			,	BANCHINH ${laBanChinh}
			,	DMGTID ${danhMucGiayToId}
			,	TT2GTID ${thuTuc2GiayToId}
			,	KIEUTAILIEU ${dinhDangChoPhep}
			,	GIOIHANDUNGLUONG ${gioiHanDungLuong}
			FROM
			(
				SELECT
					ROW_NUMBER () OVER (
						PARTITION BY TT2GT.ID
						ORDER BY
							GT.NGAYUPLOAD DESC
					) AS SQ
				,	GT.ID
				,	GT.NOILUUTRUTAILIEUID
				,	DMGT.TEN
				,	GT.BANCHINH
				,	DMGT.ID DMGTID
				,	TT2GT.ID TT2GTID
				,	DMGT.ID KIEUTAILIEU
				,	DMGT.ID GIOIHANDUNGLUONG
				,	TT2GT.THUTUHIENTHI
				FROM
					CMON_GIAYTODINHKEMHOSO GT
				INNER JOIN
					CMON_THUTUC2GIAYTO TT2GT
					ON GT.THUTUC2GIAYTOID = TT2GT.ID
				INNER JOIN
					CMON_DANHMUCGIAYTO DMGT
					ON GT.DANHMUCGIAYTOID = DMGT.ID
				WHERE
					GT.HOSOTTHCCONGID = :hoSoId
					AND GT.DAXOA = 0
					AND TT2GT.DAXOA = 0
					AND DMGT.DAXOA = 0
			)
			WHERE
				SQ = 1
			ORDER BY
				THUTUHIENTHI
		]]>
    </sql>
    <sql id="org.oep.cmon.dao.hosohcc.FileDinhKem.getDSGiayToPhienBanMoiNhatByHoSoAndGiaiDoan">
		<![CDATA[
			SELECT
				ID ${fileDinhKemId}
			,	NOILUUTRUTAILIEUID ${noiLuuTruTaiLieuId}
			,	TEN ${tenGiayTo}
			,	BANCHINH ${laBanChinh}
			,	DMGTID ${danhMucGiayToId}
			,	TT2GTID ${thuTuc2GiayToId}
			,	KIEUTAILIEU ${dinhDangChoPhep}
			,	GIOIHANDUNGLUONG ${gioiHanDungLuong}
			FROM
			(
				SELECT
					ROW_NUMBER () OVER (
						PARTITION BY TT2GT.ID
						ORDER BY
							GT.NGAYUPLOAD DESC
					) AS SQ
				,	GT.ID
				,	GT.NOILUUTRUTAILIEUID
				,	DMGT.TEN
				,	GT.BANCHINH
				,	DMGT.ID DMGTID
				,	TT2GT.ID TT2GTID
				,	DMGT.ID KIEUTAILIEU
				,	DMGT.ID GIOIHANDUNGLUONG
				,	TT2GT.THUTUHIENTHI
				FROM
					CMON_GIAYTODINHKEMHOSO GT
				INNER JOIN
					CMON_THUTUC2GIAYTO TT2GT
					ON GT.THUTUC2GIAYTOID = TT2GT.ID
				INNER JOIN
					CMON_DANHMUCGIAYTO DMGT
					ON GT.DANHMUCGIAYTOID = DMGT.ID
				WHERE
					GT.HOSOTTHCCONGID = :hoSoId
					AND	TT2GT.GIAIDOAN = :giaiDoan
					AND GT.DAXOA = 0
					AND TT2GT.DAXOA = 0
					AND DMGT.DAXOA = 0
			)
			WHERE
				SQ = 1
			ORDER BY
				THUTUHIENTHI
		]]>
    </sql>
    <sql id="org.oep.cmon.dao.hosohcc.FileDinhKem.getDSGiayToKhiBoSungHoSo">
		<![CDATA[
			SELECT
				ID ${fileDinhKemId}
			,	NOILUUTRUTAILIEUID ${noiLuuTruTaiLieuId}
			,	TEN ${tenGiayTo}
			,	BANCHINH ${laBanChinh}
			,	DMGTID ${danhMucGiayToId}
			,	TT2GTID ${thuTuc2GiayToId}
			,	KIEUTAILIEU ${dinhDangChoPhep}
			,	GIOIHANDUNGLUONG ${gioiHanDungLuong}
			,	NVL(ID, 0) ${daNhan}
			FROM
			(
				SELECT
					ROW_NUMBER () OVER (
						PARTITION BY TT2GT.ID
						ORDER BY
							GT.NGAYUPLOAD DESC
					) AS SQ
				,	GT.ID
				,	GT.NOILUUTRUTAILIEUID
				,	DMGT.TEN
				,	GT.BANCHINH
				,	DMGT.ID DMGTID
				,	TT2GT.ID TT2GTID
				,	DMGT.ID KIEUTAILIEU
				,	DMGT.ID GIOIHANDUNGLUONG
				,	TT2GT.THUTUHIENTHI
				FROM
					CMON_THUTUC2GIAYTO TT2GT
				INNER JOIN
					CMON_DANHMUCGIAYTO DMGT
					ON TT2GT.DANHMUCGIAYTOID = DMGT.ID
				LEFT JOIN
					CMON_GIAYTODINHKEMHOSO GT
					ON TT2GT.ID = GT.THUTUC2GIAYTOID
					AND GT.HOSOTTHCCONGID = :hoSoId
					AND GT.DAXOA = 0
				WHERE
					TT2GT.THUTUCHANHCHINHID = :thuTucId
				AND	TT2GT.GIAIDOAN IN (:giaiDoanDauVao, :giaiDoanXuLy)
				AND TT2GT.DAXOA = 0
				AND DMGT.DAXOA = 0
			)
			WHERE
				SQ = 1
			ORDER BY
				THUTUHIENTHI
		]]>
    </sql>
    <sql id="org.oep.cmon.dao.dvc.ThuTuc2GiayTo.getDSGiayToByThuTucVaGiaiDoan">
		<![CDATA[
			SELECT
				TT2GT.ID ${thuTuc2GiayToId}
			,	DMGT.ID ${danhMucGiayToId}
			,	DMGT.TEN ${tenGiayTo}
			,	DMGT.KIEUTAILIEU ${dinhDangChoPhep}
			,	DMGT.GIOIHANDUNGLUONG ${gioiHanDungLuong}
			FROM
				CMON_THUTUC2GIAYTO TT2GT
			INNER JOIN
				CMON_DANHMUCGIAYTO DMGT
				ON TT2GT.DANHMUCGIAYTOID = DMGT.ID
			WHERE
					TT2GT.THUTUCHANHCHINHID = :thuTucId
				AND	TT2GT.GIAIDOAN = :giaiDoan
				AND	TT2GT.DAXOA = 0
				AND	DMGT.DAXOA = 0
			ORDER BY
				TT2GT.THUTUHIENTHI
		]]>
    </sql>
    <sql id="org.oep.cmon.dao.dvc.getDSThongTinThuTuc2CanBo">
		<![CDATA[
			SELECT
				TT.ID ${thuTucId}
			,	TT.MA ${maThuTuc}
			,	TT.TEN ${tenThuTuc}
			,	NHOMTT.ID ${nhomThuTucId}
			,	NHOMTT.MA ${maNhomThuTuc}
			,	NHOMTT.TEN ${tenNhomThuTuc}
			,	UD.ID ${danhMucUngDungId}
			,	UD.MA ${maDanhMucUngDung}
			,	UD.TEN ${tenDanhMucUngDung}
			FROM
				CMON_THUTUCHANHCHINH TT
			INNER JOIN
				CMON_NHOMTHUTUCHANHCHINH NHOMTT
				ON TT.NHOMTHUTUCHANHCHINHID = NHOMTT.ID
			INNER JOIN
				CMON_CONGCHUC2NHOMTHUTUC CC2NHOMTT
				ON CC2NHOMTT.NHOMTHUTUCID = NHOMTT.ID
			INNER JOIN
				CMON_TTHC2COQUANQUANLY TT2CQ
				ON TT.ID = TT2CQ.THUTUCHANHCHINHID
			INNER JOIN
				CMON_DANHMUCUNGDUNG UD
				ON NHOMTT.DANHMUCUNGDUNGID = UD.ID
			WHERE
				CC2NHOMTT.CONGCHUCID = :canBoId
			AND TT2CQ.COQUANQUANLYID = :coQuanId
			AND UD.MA <> :maUngDungChungThuc
			AND TT.DAXOA = 0
			AND NHOMTT.DAXOA = 0
			AND CC2NHOMTT.DAXOA = 0
			AND TT2CQ.DAXOA = 0
			AND UD.DAXOA = 0
			ORDER BY
				NLSSORT(CONCAT( SUBSTR(TRIM(NHOMTT.TEN), 0, 1), NHOMTT.ID ), 'NLS_SORT = BINARY_AI')
			,	NLSSORT(SUBSTR(TRIM(TT.TEN), 0, 1), 'NLS_SORT = BINARY_AI')
		]]>
    </sql>
    <sql id="org.oep.cmon.dao.dvc.getDSThongTinThuTuc2CoQuan">
		<![CDATA[
			SELECT
				TT.ID ${thuTucId}
			,	TT.MA ${maThuTuc}
			,	TT.TEN ${tenThuTuc}
			,	NHOMTT.ID ${nhomThuTucId}
			,	NHOMTT.MA ${maNhomThuTuc}
			,	NHOMTT.TEN ${tenNhomThuTuc}
			,	UD.ID ${danhMucUngDungId}
			,	UD.MA ${maDanhMucUngDung}
			,	UD.TEN ${tenDanhMucUngDung}
			FROM
				CMON_THUTUCHANHCHINH TT
			INNER JOIN
				CMON_TTHC2COQUANQUANLY TT2CQ
				ON TT.ID = TT2CQ.THUTUCHANHCHINHID
			INNER JOIN
				CMON_NHOMTHUTUCHANHCHINH NHOMTT
				ON TT.NHOMTHUTUCHANHCHINHID = NHOMTT.ID
			INNER JOIN
				CMON_DANHMUCUNGDUNG UD
				ON NHOMTT.DANHMUCUNGDUNGID = UD.ID
			WHERE
				TT2CQ.COQUANQUANLYID = :coQuanId
			AND UD.MA <> :maUngDungChungThuc
			AND TT.DAXOA = 0
			AND TT2CQ.DAXOA = 0
			AND NHOMTT.DAXOA = 0
			AND UD.DAXOA = 0
			ORDER BY
				NLSSORT(CONCAT( SUBSTR(TRIM(NHOMTT.TEN), 0, 1), NHOMTT.ID ), 'NLS_SORT = BINARY_AI')
			,	NLSSORT(SUBSTR(TRIM(TT.TEN), 0, 1), 'NLS_SORT = BINARY_AI')
		]]>
    </sql>
    <sql id="org.oep.cmon.dao.hoso.tracuu">
		<![CDATA[
			SELECT
				HOSO.ID ${hoSoId}
			,	NHOMTT.TEN ${tenNhomThuTuc}
			,	HOSO.TENTHUTUCHANHCHINH ${tenThuTuc}
			,	HOSO.PHIHOSO ${phiHoSo}
			,	HOSO.LEPHI ${lePhiHoSo}
			,	HOSO.MASOBIENNHAN ${maSoBienNhan}
			,	HOSO.NGAYNHANHOSO ${ngayTiepNhanHoSo}
			,	HOSO.NGAYHENTRAKETQUA ${ngayHenTraKetQua}
			,	HOSO.NGAYTRAKETQUA ${ngayTraKetQuaThucTe}
			,	HOSO.TRANGTHAIHOSO ${trangThaiHoSo}
			,	TRANGTHAI.TRANGTHAI ${tenTrangThaiHoSo}
			,	HOSO.TENCOQUANTIEPNHAN ${tenCoQuanNhanHoSo}
			,	HOSO.LOAIHOSO ${loaiHoSo}
			,	HOSO.CHUSOHUU ${hoTenChuHoSo}
			FROM
				CMON_HOSOTTHCCONG HOSO
			INNER JOIN 
				CMON_THUTUCHANHCHINH THUTUC
				ON HOSO.THUTUCHANHCHINHID = THUTUC.ID
			INNER JOIN 
				CMON_NHOMTHUTUCHANHCHINH NHOMTT
				ON THUTUC.NHOMTHUTUCHANHCHINHID = NHOMTT. ID
			INNER JOIN 
				CMON_TRANGTHAIHOSO TRANGTHAI
				ON HOSO.TRANGTHAIHOSO = TRANGTHAI.ID
			__where__
		]]>
    </sql>
    <sql id="org.oep.cmon.dao.hosolienthong.searchHoSoNoiNhan">
		<![CDATA[
			SELECT
				*
			FROM
				(
					SELECT 
						* 
					FROM
						CMON_HOSOLIENTHONG 
					WHERE
						TRANGTHAILIENTHONG = :TTLT_CHO_TIEP_NHAN
				UNION ALL
					SELECT
						*
					FROM
						CMON_HOSOLIENTHONG
					WHERE
						CANBONHANID = :canBoNhanId
					AND TRANGTHAILIENTHONG <> :TTLT_CHO_TIEP_NHAN
				)
				
			__where__
			
		]]>
    </sql>
</sql-custom>
